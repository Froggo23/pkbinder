{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/ianchoefroggggy/WebstormProjects/pkbinder/pkbinder/src/app/api/proxy/cards/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nconst API_KEY = 'e5663470-4e26-43c2-97af-ca7a5904091f';\nconst BASE_URL = 'https://api.pokemontcg.io/v2';\n\nexport async function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const page = searchParams.get('page') || '1';\n    const pageSize = searchParams.get('pageSize') || '20';\n    const query = searchParams.get('q') || ''; // Raw query string like 'name:\"*Pikachu*\"'\n\n    // Construct target URL\n    const targetUrl = `${BASE_URL}/cards?page=${page}&pageSize=${pageSize}${query ? `&q=${encodeURIComponent(query)}` : ''}`;\n\n    console.log(`[Proxy] Forwarding to: ${targetUrl}`);\n\n    try {\n        const res = await fetch(targetUrl, {\n            headers: {\n                'X-Api-Key': API_KEY,\n                'Content-Type': 'application/json',\n            },\n        });\n\n        if (!res.ok) {\n            console.error(`[Proxy] Upstream Error: ${res.status}`);\n            return NextResponse.json({ error: `Upstream Error: ${res.status}` }, { status: res.status });\n        }\n\n        const data = await res.json();\n        return NextResponse.json(data);\n    } catch (error) {\n        console.error('[Proxy] Fetch Failed:', error);\n        return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU;AAChB,MAAM,WAAW;AAEV,eAAe,IAAI,OAAO;IAC7B,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,OAAO,aAAa,GAAG,CAAC,WAAW;IACzC,MAAM,WAAW,aAAa,GAAG,CAAC,eAAe;IACjD,MAAM,QAAQ,aAAa,GAAG,CAAC,QAAQ,IAAI,2CAA2C;IAEtF,uBAAuB;IACvB,MAAM,YAAY,GAAG,SAAS,YAAY,EAAE,KAAK,UAAU,EAAE,WAAW,QAAQ,CAAC,GAAG,EAAE,mBAAmB,QAAQ,GAAG,IAAI;IAExH,QAAQ,GAAG,CAAC,CAAC,uBAAuB,EAAE,WAAW;IAEjD,IAAI;QACA,MAAM,MAAM,MAAM,MAAM,WAAW;YAC/B,SAAS;gBACL,aAAa;gBACb,gBAAgB;YACpB;QACJ;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACT,QAAQ,KAAK,CAAC,CAAC,wBAAwB,EAAE,IAAI,MAAM,EAAE;YACrD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,CAAC,gBAAgB,EAAE,IAAI,MAAM,EAAE;YAAC,GAAG;gBAAE,QAAQ,IAAI,MAAM;YAAC;QAC9F;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}